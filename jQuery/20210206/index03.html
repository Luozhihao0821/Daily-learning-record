<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="//at.alicdn.com/t/font_2368076_lk1ekfhmnn.css">
    <title>14-评分效果</title>
</head>
<style>
    * {
        margin: 0;
        padding: 0;
        list-style: none;
    }

    .star {
        font-size: 30px;
        color: rgb(255, 0, 0);
        cursor: pointer;
    }
</style>

<body>
    <h3>评分：</h3>
    <div id="box">
    </div>

    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.js"></script>
    <script>
        let count = 10 //生成10个星星
        let score = 5 //前5个是实心的
        for (let i = 0; i < count; i++) {
            // 生成指定数量的i标签，并添加到#box中
            let i = $("<i/>").addClass("star iconfont")
            $("#box").append(i)
            showStar() //显示星星Star的样式
        }
        // 显示星星Star的样式
        function showStar() {
            // each()方法，用于遍历出所有的元素
            // 回调函数里面可以传2个参数，分别是索引和遍历出的dom元素
            // $("#box i").each(function (i, item) {
            //     if (i < score) {
            //         // 将dom对象转换为jquer对象,并通过addClass()方法添加样式
            //         $(item).addClass("icon-xingxing")
            //     } else {
            //         $(item).addClass("icon-xingxing1")
            //     }
            // })
            $(`#box i:lt(${score})`).removeClass("icon-xingxing1").addClass("icon-xingxing")
            $(`#box i:gt(${score - 1})`).removeClass("icon-xingxing").addClass("icon-xingxing1")
        }

        // 分别是鼠标进入，鼠标离开，鼠标点击时间
        $("#box i").mouseover(function () {
            // 获取鼠标所在位置的索引
            let index = $(this).index()
            $(`#box i:lt(${index + 1})`).removeClass("icon-xingxing1").addClass("icon-xingxing")
            $(`#box i:gt(${index})`).removeClass("icon-xingxing").addClass("icon-xingxing1")
        }).mouseout(function () {
            showStar()
        }).click(function () {
            // 获取鼠标所在位置的索引
            let index = $(this).index()
            // 更新最新的score值
            score = index + 1
        })
    </script>
</body>

</html>